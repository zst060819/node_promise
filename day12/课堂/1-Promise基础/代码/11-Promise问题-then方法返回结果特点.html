<!doctype html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport"
        content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>关键问题</title>
</head>

<body>
    <script>
        // 改变promise状态和指定回调函数谁先谁后?
        const p = new Promise((resolve, reject) => {
            setTimeout(() => {
                resolve('数据');
            }, 1000);
        });

        //result 的状态由『回调函数的返回值』决定
        let result = p.then(function (value) {
            //1. 抛出错误u
            // throw '出错啦!';
            //2. 返回的如果是『非Promise类型』的数据
            // return 521;
            //3. 返回的如果是 Promise 对象
            return new Promise((resolve, reject)=>{
                // resolve('ok');
                // reject('失败');
                setTimeout(()=>{
                    resolve('数据');
                }, 1000)
            });
        });

        console.log(result);
    </script>
</body>

</html>